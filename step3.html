<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="./css/reset.css">
    <link rel="stylesheet" href="./css/style.css">
    <link href="https://webfontworld.github.io/gmarket/GmarketSans.css" rel="stylesheet">

    <title>KB데이타시스템 상품가입</title>
</head>

<body>

    <div class="container">
        <div class="pricing-header p-4 pb-md-4 mx-auto ">

            <div class="input-form-backgroud row">

                <div class="input-form">

                    <form name="signup" id="signup" class="needs-validation" novalidate>
                        
                        <div class="row d-flex justify-content-center">
                            <div class="col-md-4">
                                <div class="form-check">
                                    
                                </div>
                            </div>
                        </div>
                </form>
                </div>
            </div>
        </div>
        <div class="pricing-header p-4 pb-md-4 mx-auto ">

            <div class="input-form-backgroud row">

                <div class="input-form">

                    <form name="signup" id="signup" class="needs-validation" novalidate>
                        <div class="row d-flex justify-content-center">
                            <h2 class="text-center">전자 서명</h2>
                        </div>
                        <div class="row d-flex justify-content-center">
                            <div class="col-md-4 text-muted">
                                <p class=" text-muted">
                                    보험계약의 체결 및 이행을 위해 청약내용,
                                    개인정보 이용 내역 및 제공에 관한 사항에 대하여
                                    계약자님의 전자서명을 통한 자필서명으로 동의합니다.
                                </p>
                            </div>
                        </div>

                        <div class="row d-flex justify-content-center">
                            <div class="col-md-4">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="allAgree" onclick="checkAllHandler()">
                                    <label class="form-check-label" for="allAgree">
                                        <span style="vertical-align:top;"> 전체 동의합니다</span>
                                    </label>
                                </div>

                                <div class="form-check" style="margin: 0px;">
                                    <input class="form-check-input" type="checkbox" id="agree1" onclick="checkAgreeHandler()">
                                    <label class="form-check-label" for="agree1">
                                        1. 수집 및 이용에 관한 사항
                                        고유식별정보/민감정보/개인(신용)정보수집이용에 동의하십니까?
                                    </label>
                                </div>

                                <div class="form-check" style="margin: 0px;">
                                    <input class="form-check-input" type="checkbox" id="agree2" onclick="checkAgreeHandler()">
                                    <label class="form-check-label" for="agree2">
                                        2. 제공에 관한 사항
                                        고유식별정보/민감정보/개인(신용)정보수집이용에 동의하십니까?
                                    </label>
                                </div>

                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="agree3" onclick="checkAgreeHandler()">
                                    <label class="form-check-label" for="agree3">
                                        3. 조회에 관한 사항
                                        고유식별정보/민감정보/개인(신용)정보수집이용에 동의하십니까?
                                    </label>
                                </div>

                            </div>
                        </div>
                        <div class="row d-flex justify-content-center">
                            <div class="col-md-6 mb-3  d-flex justify-content-center">
                                <button class="btn btn-lg btn-block text-dark" style="background-color: yellow;" type="submit" onclick="next()">확인</button>
                            </div>
                        </div>
                </form>
                </div>
            </div>
        </div>
    </div>
</body>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<script>
    function checkAgreeHandler() {
        // 각 개별 항목에 대한 체크 여부 확인
        var agree1 = document.getElementById("agree1").checked;
        var agree2 = document.getElementById("agree2").checked;
        var agree3 = document.getElementById("agree3").checked;

        // 전체 동의 체크박스 요소 가져오기
        var agreeAll = document.getElementById("allAgree");

        // 개별 항목에 대한 체크 여부에 따라 전체 동의 체크박스 처리
        if (agree1 && agree2 && agree3) {
            agreeAll.checked = true;
        } else {
            agreeAll.checked = false;
        }
    }

    function checkAllHandler() {
        // 전체 동의 체크박스 요소 가져오기
        const allAgreeCheckbox = document.getElementById('allAgree');

        // 모든 체크박스 요소 가져오기
        const checkboxes = document.querySelectorAll('input[type="checkbox"]');

        // 모든 체크박스에 대해 전체 동의 체크박스 상태에 따라 선택 또는 해제하기
        checkboxes.forEach(function(checkbox) {
            checkbox.checked = allAgreeCheckbox.checked;
        });
    }

    function next() {
        // 전체 동의 체크박스 요소 가져오기
        const allAgreeCheckbox = document.getElementById('allAgree');

        // 모든 체크박스 요소 가져오기
        const checkboxes = document.querySelectorAll('input[type="checkbox"]');

        // 모든 체크박스에 대해 전체 동의 체크박스 상태에 따라 선택 또는 해제하기
        const isAllChecked = Array.from(checkboxes).every(function(checkbox) {
            return checkbox.checked;
        });

        // 전체 동의가 되어있을 경우 다음 페이지로 이동
        if (allAgreeCheckbox.checked) {
             document.signup.action = 'step4.html';
        } else {
            alert("약관에 동의해주세요.")
        }
    }

</script>

</html>
